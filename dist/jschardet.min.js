(function(a){"object"===typeof exports&&"undefined"!==typeof module?module.exports=a():"function"===typeof define&&define.amd?define([],a):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).jschardet=a()})(function(){return function(){function a(f,b,c){function k(l,h){if(!b[l]){if(!f[l]){var d="function"==typeof require&&require;if(!h&&d)return d(l,!0);if(g)return g(l,!0);d=Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",
d;}d=b[l]={exports:{}};f[l][0].call(d.exports,function(a){return k(f[l][1][a]||a)},d,d.exports,a,f,b,c)}return b[l].exports}for(var g="function"==typeof require&&require,e=0;e<c.length;e++)k(c[e]);return k}return a}()({1:[function(a,f,b){f.exports=a("./src")},{"./src":8}],2:[function(a,f,b){function c(){g.apply(this);this.reset=function(){c.prototype.reset.apply(this);for(var a=this._mActiveNum=0,h;h=this._mProbers[a];a++)h&&(h.reset(),h.active=!0,this._mActiveNum++);this._mBestGuessProber=null};
this.getCharsetName=function(){return this._mBestGuessProber||(this.getConfidence(),this._mBestGuessProber)?this._mBestGuessProber.getCharsetName():null};this.feed=function(a){for(var h=0,d;d=this._mProbers[h];h++)if(d&&d.active){var m=d.feed(a);if(m)if(m==k.foundIt){this._mBestGuessProber=d;break}else if(m==k.notMe&&(d.active=!1,this._mActiveNum--,0>=this._mActiveNum)){this._mState=k.notMe;break}}return this.getState()};this.getConfidence=function(){var a=this.getState();if(a==k.foundIt)return.99;
if(a==k.notMe)return.01;a=0;this._mBestGuessProber=null;for(var h=0,d;d=this._mProbers[h];h++)if(d)if(d.active){var m=d.getConfidence();e.log(d.getCharsetName()+" confidence = "+m+"\n");a<m&&(a=m,this._mBestGuessProber=d)}else e.log(d.getCharsetName()+" not active\n");return this._mBestGuessProber?a:0};this._mActiveNum=0;this._mProbers=[];this._mBestGuessProber=null}var k=a("./constants"),g=a("./charsetprober"),e=a("./logger");c.prototype=new g;f.exports=c},{"./charsetprober":3,"./constants":5,"./logger":9}],
3:[function(a,f,b){var c=a("./constants");f.exports=function(){this.reset=function(){this._mState=c.detecting};this.getCharsetName=function(){return null};this.feed=function(a){};this.getState=function(){return this._mState};this.getConfidence=function(){return 0};this.filterHighBitOnly=function(a){return a=a.replace(/[\x00-\x7F]+/g," ")};this.filterWithoutEnglishLetters=function(a){return a=a.replace(/[A-Za-z]+/g," ")};this.filterWithEnglishLetters=function(a){for(var g="",e=!1,l=0,h=0;h<a.length;h++){var d=
a[h];">"==d?e=!1:"<"==d&&(e=!0);var m=/[a-zA-Z]/.test(d);/^[\x00-\x7F]*$/.test(d)&&!m&&(h>l&&!e&&(g=g+a.substring(l,h)+" "),l=h+1)}e||(g+=a.substring(l));return g}}},{"./constants":5}],4:[function(a,f,b){var c=a("./constants");f.exports=function(a){this.reset=function(){this._mCurrentState=c.start};this.nextState=function(a){a=this._mModel.classTable[a.charCodeAt(0)];this._mCurrentState==c.start&&(this._mCurrentBytePos=0,this._mCurrentCharLen=this._mModel.charLenTable[a]);this._mCurrentState=this._mModel.stateTable[this._mCurrentState*
this._mModel.classFactor+a];this._mCurrentBytePos++;return this._mCurrentState};this.getCurrentCharLen=function(){return this._mCurrentCharLen};this.getCodingStateMachine=function(){return this._mModel.name};this._mModel=a;this._mCurrentCharLen=this._mCurrentBytePos=0;this.reset()}},{"./constants":5}],5:[function(a,f,b){f.exports={detecting:0,foundIt:1,notMe:2,start:0,error:1,itsMe:2,SHORTCUT_THRESHOLD:.95}},{}],6:[function(a,f,b){function c(){k.apply(this);var a=this;this.reset=function(){c.prototype.reset.apply(this);
for(var d=0,m;m=this._mCodingSM[d];d++)m&&(m.active=!0,m.reset());this._mActiveSM=a._mCodingSM.length;this._mDetectedCharset=null};this.getCharsetName=function(){return this._mDetectedCharset};this.getConfidence=function(){return this._mDetectedCharset?.99:0};this.feed=function(a){for(var h=0,e;h<a.length;h++){e=a[h];for(var c=0,b;b=this._mCodingSM[c];c++)if(b&&b.active){var f=b.nextState(e);if(f==l.error){if(b.active=!1,this._mActiveSM--,0>=this._mActiveSM)return this._mState=l.notMe,this.getState()}else if(f==
l.itsMe)return this._mState=l.foundIt,this._mDetectedCharset=b.getCodingStateMachine(),this.getState()}}return this.getState()};a._mCodingSM=[new g(e.HZSMModel),new g(e.ISO2022CNSMModel),new g(e.ISO2022JPSMModel),new g(e.ISO2022KRSMModel)];a.reset()}var k=a("./charsetprober"),g=a("./codingstatemachine"),e=a("./escsm"),l=a("./constants");c.prototype=new k;f.exports=c},{"./charsetprober":3,"./codingstatemachine":4,"./constants":5,"./escsm":7}],7:[function(a,f,b){a=a("./constants");b.HZSMModel={classTable:[1,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,5,2,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1],classFactor:6,stateTable:[a.start,a.error,3,a.start,a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.error,a.error,a.start,a.start,4,a.error,5,a.error,6,a.error,5,5,4,a.error,4,a.error,4,4,4,a.error,4,a.error,4,a.itsMe,a.start,a.start,a.start,a.start,a.start,a.start],charLenTable:[0,0,0,0,0,0],name:"HZ-GB-2312"};b.ISO2022CNSMModel={classTable:[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,
3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],classFactor:9,stateTable:[a.start,3,a.error,a.start,a.start,a.start,a.start,
a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.error,a.error,a.error,4,a.error,a.error,a.error,a.error,a.itsMe,a.error,a.error,a.error,a.error,5,6,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.error,a.start],charLenTable:[0,0,0,0,0,0,0,0,0],name:"ISO-2022-CN"};b.ISO2022JPSMModel=
{classTable:[2,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,7,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,4,0,8,0,0,0,0,9,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
2,2,2,2,2,2,2,2,2,2,2,2],classFactor:10,stateTable:[a.start,3,a.error,a.start,a.start,a.start,a.start,a.start,a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.error,a.error,a.error,5,a.error,a.error,a.error,4,a.error,a.error,a.error,a.error,a.error,6,a.itsMe,a.error,a.itsMe,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.error,a.error,a.error,a.itsMe,
a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.error,a.start,a.start],charLenTable:[0,0,0,0,0,0,0,0,0,0],name:"ISO-2022-JP"};b.ISO2022KRSMModel={classTable:[2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,3,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,
2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],classFactor:6,stateTable:[a.start,3,a.error,a.start,a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.error,a.error,a.error,4,a.error,a.error,a.error,a.error,a.error,a.error,5,a.error,a.error,a.error,a.error,a.error,a.error,a.itsMe,a.start,a.start,
a.start,a.start],charLenTable:[0,0,0,0,0,0],name:"ISO-2022-KR"}},{"./constants":5}],8:[function(a,f,b){var c=a("./universaldetector"),k=a("./logger").setLogger;b.detect=function(a,e){var b=new c(e);b.reset();"function"==typeof Buffer&&a instanceof Buffer?b.feed(a.toString("binary")):b.feed(a);b.close();return b.result};b.UniversalDetector=c;b.enableDebug=function(){k(console.log.bind(console))}},{"./logger":9,"./universaldetector":12}],9:[function(a,f,b){b.log=function(){};b.setLogger=function(a){b.enabled=
!0;b.log=a}},{}],10:[function(a,f,b){function c(){k.apply(this);this._mProbers=[new g];this.reset()}var k=a("./charsetgroupprober"),g=a("./utf8prober");c.prototype=new k;f.exports=c},{"./charsetgroupprober":2,"./utf8prober":13}],11:[function(a,f,b){a=a("../constants");f.exports={classTable:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,
1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,0,0,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,8,8,8,8,8,8,8,8,8,8,8,8,9,8,8,10,11,11,11,11,11,11,11,12,13,13,13,14,15,0,0],classFactor:16,stateTable:[a.error,a.start,a.error,a.error,a.error,a.error,12,10,9,11,8,7,6,5,4,3,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,
a.error,a.error,a.error,a.error,a.error,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.itsMe,a.error,a.error,5,5,5,5,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,5,5,5,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,7,7,7,7,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,
a.error,a.error,7,7,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,9,9,9,9,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,9,9,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,12,12,12,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,a.error,a.error,a.error,a.error,
a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,12,12,12,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.start,a.start,a.start,a.start,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error,a.error],charLenTable:[0,1,0,0,0,0,2,3,3,3,4,4,5,5,6,6],name:"UTF-8"}},{"../constants":5}],12:[function(a,f,b){var c=a("./constants"),k=a("./mbcsgroupprober"),g=a("./escprober"),e=a("./logger");f.exports=function(a){a||(a=
{});a.minimumThreshold||(a.minimumThreshold=.2);this.reset=function(){this.result={encoding:null,confidence:0};this.done=!1;this._mStart=!0;this._mGotData=!1;this._mInputState=0;this._mBOM=this._mLastChar="";this._mEscCharsetProber&&this._mEscCharsetProber.reset();for(var a=0,d;d=this._mCharsetProbers[a];a++)d.reset()};this.feed=function(a){if(!this.done&&a.length)if(this._mGotData||(this._mBOM+=a,"\u00ef\u00bb\u00bf"==this._mBOM.slice(0,3)?this.result={encoding:"UTF-8",confidence:1}:"\u00ff\u00fe\x00\x00"==
this._mBOM.slice(0,4)?this.result={encoding:"UTF-32LE",confidence:1}:"\x00\x00\u00fe\u00ff"==this._mBOM.slice(0,4)?this.result={encoding:"UTF-32BE",confidence:1}:"\u00fe\u00ff\x00\x00"==this._mBOM.slice(0,4)?this.result={encoding:"X-ISO-10646-UCS-4-3412",confidence:1}:"\x00\x00\u00ff\u00fe"==this._mBOM.slice(0,4)?this.result={encoding:"X-ISO-10646-UCS-4-2143",confidence:1}:"\u00ff\u00fe"==this._mBOM.slice(0,2)?this.result={encoding:"UTF-16LE",confidence:1}:"\u00fe\u00ff"==this._mBOM.slice(0,2)&&(this.result=
{encoding:"UTF-16BE",confidence:1}),3<this._mBOM.length&&(this._mGotData=!0)),this.result.encoding&&0<this.result.confidence)this.done=!0;else if(0==this._mInputState&&(this._highBitDetector.test(a)?this._mInputState=2:this._escDetector.test(this._mLastChar+a)&&(this._mInputState=1)),this._mLastChar=a.slice(-1),1==this._mInputState)this._mEscCharsetProber||(this._mEscCharsetProber=new g),this._mEscCharsetProber.feed(a)==c.foundIt&&(this.result={encoding:this._mEscCharsetProber.getCharsetName(),confidence:this._mEscCharsetProber.getConfidence()},
this.done=!0);else if(2==this._mInputState){0==this._mCharsetProbers.length&&(this._mCharsetProbers=[new k]);for(var d=0,b;b=this._mCharsetProbers[d];d++)if(b.feed(a)==c.foundIt){this.result={encoding:b.getCharsetName(),confidence:b.getConfidence()};this.done=!0;break}}};this.close=function(){if(!this.done)if(0===this._mBOM.length)e.log("no data received!\n");else{this.done=!0;if(0==this._mInputState)return e.log("pure ascii"),this.result={encoding:"ascii",confidence:1};if(2==this._mInputState){for(var b=
null,d=0,c=null,f=0,g;g=this._mCharsetProbers[f];f++)g&&(b=g.getConfidence(),b>d&&(d=b,c=g),e.log(g.getCharsetName()+" confidence "+g.getConfidence()));if(c&&d>a.minimumThreshold)return this.result={encoding:c.getCharsetName(),confidence:c.getConfidence()}}if(e.enabled)for(e.log("no probers hit minimum threshhold\n"),f=0;g=this._mCharsetProbers[f];f++)g&&e.log(g.getCharsetName()+" confidence = "+g.getConfidence()+"\n")}};this._highBitDetector=/[\x80-\xFF]/;this._escDetector=/(\x1B|~\{)/;this._mEscCharsetProber=
null;this._mCharsetProbers=[];this.reset()}},{"./constants":5,"./escprober":6,"./logger":9,"./mbcsgroupprober":10}],13:[function(a,f,b){function c(){g.apply(this);this.reset=function(){c.prototype.reset.apply(this);this._mCodingSM.reset();this._mNumOfMBChar=0};this.getCharsetName=function(){return"UTF-8"};this.feed=function(a){for(var b=0,c;b<a.length;b++)if(c=a[b],c=this._mCodingSM.nextState(c),c==e.error){this._mState=e.notMe;break}else if(c==e.itsMe){this._mState=e.foundIt;break}else c==e.start&&
2<=this._mCodingSM.getCurrentCharLen()&&this._mNumOfMBChar++;this.getState()==e.detecting&&this.getConfidence()>e.SHORTCUT_THRESHOLD&&(this._mState=e.foundIt);return this.getState()};this.getConfidence=function(){var a=.99;if(6>this._mNumOfMBChar){for(var b=0;b<this._mNumOfMBChar;b++)a*=.5;return 1-a}return a};this._mCodingSM=new k(l);this.reset()}var k=a("./codingstatemachine"),g=a("./charsetprober"),e=a("./constants"),l=a("./mbcssm/utf8");c.prototype=new g;f.exports=c},{"./charsetprober":3,"./codingstatemachine":4,
"./constants":5,"./mbcssm/utf8":11}]},{},[1])(1)});
